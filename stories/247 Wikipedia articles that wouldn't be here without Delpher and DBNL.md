## 247 Wikipedia articles that wouldn't be here without Delpher and DBNL, with 33.000 views each month
*Latest update: 20 May 2020*

This post ... purpose 
********
### Three key players: Delpher, DBNL and KB
To understand the rest of this post, I'll start with a short introduction of three key players:  

<image src="images/delpher_logo.png" align="left" width="70"/> [Delpher](https://www.delpher.nl) is a website containing over 100 million full-text digitized pages from Dutch [historical newspapers](https://www.delpher.nl/nl/kranten), books and periodicals.<br/> <br/> 
<image src="images/dbnl_logo.png" align="left" width="70"/> [DBNL](https://www.dbnl.org/) is the Digital Library for Dutch Literature (Dutch: *Digitale Bibliotheek voor de Nederlandse Letteren*, DBNL), a website about Dutch language and Dutch literature. It contains thousands of literary texts, secondary literature and additional information, like biographies, portrayals etcetera, and hyperlinks. <br/> <br/> 
<image src="images/kb_logo.png" align="left" width="70"/>The [Koninklijke Bibliotheek](https://www.kb.nl) (KB) is the national library of the Netherlands. Both Delpher and DBNL are services operated by the KB.<br/> <br/> 
*********
### OK, let's go: Quiz time!

*What is the connection between a [garbage man](https://nl.wikipedia.org/wiki/Vuilnisman), a [garbage bag](https://nl.wikipedia.org/wiki/Vuilniszak) and a [garbage truck](https://nl.wikipedia.org/wiki/Vuilniswagen)?*<br/>
<kbd><image src="images/garbage-2354422_960_720.jpg" height="100"/></kbd> <kbd><image src="images/220px-Vuilniszak.jpg" height="100"/></kbd> <kbd><image src="images/260px-Eboueurs_20100508_Aix-en-Provence_1.jpg" height="100"/></kbd>

*Or between the Dutch soccer players [Cor van der Gijp](https://nl.wikipedia.org/wiki/Cor_van_der_Gijp), [Gerrie ter Horst](https://nl.wikipedia.org/wiki/Gerrie_ter_Horst) and [Joop van Daele](https://nl.wikipedia.org/wiki/Joop_van_Daele)?*<br/> 
<kbd><image src="images/Cor_van_der_Gijp_1954b.jpg" height="100"/></kbd> <kbd><image src="images/266px-Sparta_tegen_Ajax_2-1,_Cruijff_in_duel_met_Ter_Horst_(l),_Bestanddeelnr_920-0595.jpg" height="100"/></kbd> <kbd><image src="images/Joop_van_Daele_(1976).jpg" height="100"/></kbd>

*Or between [Hotel Des Indes](https://nl.wikipedia.org/wiki/Hotel_Des_Indes_(Den_Haag)) and the [International Press Museum](https://nl.wikipedia.org/wiki/Internationaal_Persmuseum), both located in The Hague, The Netherlands?*<br/>
<kbd><image src="images/DenHaagHotelDesIndes.JPG" height="100"/></kbd> <kbd><image src="images/266px-Den_Haag_-_Javastraat_32_(2018).jpg" height="100"/></kbd>

*Or between a [children's song book](https://nl.wikipedia.org/wiki/Kinderliedboek) and the [literary magazine 'Forum' (1932-1935)](https://nl.wikipedia.org/wiki/Forum_(literair_tijdschrift))*?<br/>
<kbd><image src="images/260px-Heije-kinderliederen-1847.jpg" height="100"/></kbd> <kbd><image src="images/for003193201_01_tpg.jpg" height="100"/></kbd>

### The answer:
**The Dutch Wikipedia articles about these things probably wouldn't be there without Delpher or DBNL.** 
In other words: the contents of these articles is fully or largly based on the contents of Delpher and/or DBNL. These articles owe their existence to the KB as the content supplier and the Wikipedia community piecing together all those pieces of Delpher/DBNL content into Wikipedia articles for millions of potential readers.     

### A more detailed look
Every two years I measure a number of [indicators about the reach and reuse of KB collections via the Wikimedia platforms](https://nl.wikipedia.org/wiki/Wikipedia:GLAM/Koninklijke_Bibliotheek_en_Nationaal_Archief/Resultaten), most recently in February 2020. I would like to share one of the insights I gained from that analysis: *Dutch Wikipedia contains dozens of articles that would not have existed today without Delpher and/or DBNL.*

To be more specfific, last February I determined

- *Which articles* on Dutch Wikipedia contain one or more references (links, URLs) to websites of the KB, specifically to Delpher and DBNL. In other words: which articles are partially, largely or fully based on the content of KB websites ([more details in Dutch](https://nl.wikipedia.org/wiki/Wikipedia:GLAM/Koninklijke_Bibliotheek_en_Nationaal_Archief/Resultaten/KPIs/KPI9))
- *How often* these articles are requested every month ([more details in Dutch](https://nl.wikipedia.org/wiki/Wikipedia:GLAM/Koninklijke_Bibliotheek_en_Nationaal_Archief/Resultaten/KPIs/KPI9))
- *How many references* to KB websites all those articles contain ([more details in Dutch](https://nl.wikipedia.org/wiki/Wikipedia:GLAM/Koninklijke_Bibliotheek_en_Nationaal_Archief/Resultaten/KPIs/KPI5)). After all, one single article can contain multiple references. This is cleary illustrated in the article about [Hotel Des Indes](https://nl.wikipedia.org/wiki/Hotel_Des_Indes_(Den_Haag)), which contains no fewer than 74 links to newspaper articles in Delpher.

<kbd><image src="images/image_12425167721588761061236.png" width="800"/></kbd>

### Approach in 4 steps
During this measurement process I noticed that there are quite a few *Hotel Des Indes*-like articles: articles containing a striking amount of links to Delpher and/or DBNL. That triggered my curiosity, so I went deeper and more systematic, in 4 steps.

#### Step 1: article lists
I started out by making an overview of all articles on Dutch Wikipedia containing one or more links to Delpher or DBNL. I did this using the [Massviews Analysis tool](https://tools.wmflabs.org/massviews/), which takes a URL (or rather: a URL pattern, or base-URL) as input, and returns a list of articles containing that URL pattern. The screenshot below is based on the URL *[https://www.delpher.nl](https://tools.wmflabs.org/massviews/?platform=all-access&agent=user&source=external-link&start=2018-02-21&end=2020-02-05&project=nl.wikipedia.org&target=https%3A%2F%2Fwww.delpher.nl&sort=views&direction=1&view=list&target=https://www.delpher.nl)* (click for live tool, might take some time)

<kbd><image src="images/image_68690689531588266794442.png" width="400"/></kbd>

I used this tool for all Delpher URLs (don't forget the persistent KB-resolver base-URLs such as <span>http://resolver.kb.nl/resolve?urn=ddd</span>, see [column 3 of this table](https://nl.wikipedia.org/wiki/Wikipedia:GLAM/Koninklijke_Bibliotheek_en_Nationaal_Archief/Resultaten/KPIs/KPI9/KPI9_KB_05-02-2020) for all base-URLs). I merged and de-duplicated the resulting article lists, and converted the outcome to Excel, the final result is a [list of approx. 6.800 articles](/KPI9/KPI9-08-DelpherTotaal_21-02-2018_05-02-2020.xlsx) containing one or more Delpher URLs.

<kbd><image src="images/imagetools1.png" width="400"/></kbd>

I used a similar workflow for DBNL (URL pattern [*http(s)://\*.dbnl.org*](https://tools.wmflabs.org/massviews/?platform=all-access&agent=user&source=external-link&target=http://*.dbnl.org&start=2018-02-21&end=2020-02-05&project=nl.wikipedia.org&sort=views&direction=1&view=list)), resulting in a [list of just over 7.600 unique Wikipedia articles](/KPI9/KPI9-09-DBNL_21-02-2018_05-02-2020.xlsx).

#### Step 2: external links
Once I had those article lists, for each article I determined which (and how many) external links it contains, and which of those links point to Delpher (or DBNL). I did this using the [MediaWiki API](https://www.mediawiki.org/wiki/API:Extlinks) and Python script ([for Delpher](/KPI9/findExternalAndKBLinks/Delpher/findExternalAndDelpherLinks.py) and [for DBNL](/KPI9/findExternalAndKBLinks/DBNL/findExternalAndDBNLlinks.py)). In the screenshot below of the Delpher script you can see that filtering is done on the resolver base-URLs of the [Delpher Newspapers](https://www.delpher.nl/nl/kranten) subset.

<kbd><image src="images/image_78079566521588266716668.png" width="600"/></kbd>

This step eventually yields an Excel that (for Delpher) looks like this:

<kbd><image src="images/imagetools0.png" width="600"/></kbd>

For example, the first article ["...die_Revolutie_niet_begrepen!..."](https://nl.wikipedia.org/wiki/...die_Revolutie_niet_begrepen!...) contains [16 external links](https://nl.wikipedia.org/w/api.php?action=query&titles=...die_Revolutie_niet_begrepen!...&prop=extlinks&format=json&ellimit=500), 9 of which point to Delpher.

#### Step 3: link ratio
Because we are looking for articles that are entirely or largely based on contents from Delpher (or DBNL), it is useful to look at the so-called *link ratio* . That is the ratio of the total number of external links, and the number of those that link to Delpher. A link ratio of 1.00 means that *all* external links in an article are Delpher links. The lower the link ratio, the smaller the relative number of Delpher links in the article.

<kbd><image src="images/imagetools2.png" width="600"/></kbd>

#### Step 4: threshold criteria

Next, to determine whether an article owes its existence largely to Delpher (or DBNL), I use two threshold criteria:

1. The article must contain a minimum number of external links, as its content must be sufficiently based on external sources.
2. The link ratio must exceed a certain threshold in order to have Delpher (or DBNL) as an external source sufficiently often.

There is some freedom in the choice of both thresholds, I have used the following:
- for Delpher: Number of external links >=6, link ratio>=0.75
- for DBNL: Number of external links >=4, link ratio>=0.7

This results in the following picture for Delpher

<kbd><image src="images/image_10658527031588781879393.png" width="600"/></kbd>
<kbd><image src="images/image_9782572541588781956788.png" width="600"/></kbd>

### Findings
The articles found in this way are **places where strong aggregation and republication of Delpher content takes place.** In other words: *These articles bring together information from Delpher related to  people, places, events and other topics for a wide audience, as 80% of the Netherlands reads Wikipedia.* The same goes for DBNL.

If you look at the lists of the 'aggregation articles' obtained in this way, you see

#### [For Delpher](/KPI9/findExternalAndKBLinks/Delpher/Delpher_AggregationArticlesViews_05-02-2020.xlsx)

- 193 articles owe their existence largely or fully to Delpher.
- The article [Lijst van historische Nederlandse netnummers](https://nl.wikipedia.org/wiki/Lijst_van_historische_Nederlandse_netnummers) holds most Delpher links, 165 out of the [195 external links](https://nl.wikipedia.org/w/api.php?action=query&titles=Lijst%20van%20historische%20Nederlandse%20netnummers&prop=extlinks&format=json&ellimit=500), with the above *Hotel Des Indes* coming second.<kbd><image src="images/image_11235458251588782175115.png" width="600"/></kbd>
- The subject width of  articles using Delpher as their main source is very large: from the garbage industry to luxury hotels, from politicians to people condemned to death and from music awards to Michelin-starred restaurants.
- Articles about sports - e.g. soccer players, annual overviews of swimming championships and [korfball](https://en.wikipedia.org/wiki/Korfball) - heavily rely on Delpher, similar to articles listing mayors (*burgemeesters*) of Dutch towns and villages.
<kbd><image src="images/image_2194896221588784171279.png" width="600"/></kbd>

#### [For DBNL](/KPI9/findExternalAndKBLinks/DBNL/DBNL_AggregationArticlesViews_05-02-2020.xlsx)

- 54 articles owe their existence largely or fully to DBNL.
- [Joost van den Vondel](https://nl.wikipedia.org/wiki/Joost_van_den_Vondel) contains the most DBNL links, 32 out of [44 in total](https://nl.wikipedia.org/w/api.php?action=query&titles=Joost%20van%20den%20Vondel&prop=extlinks&format=json&ellimit=500).
<kbd><image src="images/imagetools3.png" width="600"/></kbd>
- In particular articles related to Dutch literature, writers, poets, publishers, books etc. use DBNL as their main source. The subject width of DBNL-based articles is much smaller than those based on Delpher. But this is hardly a surprise, given the contents and theme of DBNL vs. Delpher. 

### 33.000 views every month
All very well these Wikpedia articles heavily based on Delpher and/or DBNL, but are they actually read by the public? I also looked into that.    

For each article, the Massviews Analysis tool mentioned above also gives the number of requests (see the Pageviews column) during a certain period, in this case it is (almost) 2 years,  from 21 Febr 2018 to 5 Febr 2020.
<kbd><image src="images/imagetools4.png" width="500"/></kbd>

This allows us to determine the total number of requests for these 193 Delpher and 54 DBNL aggregation articles during those two years.
- For Delpher: 343.821 page views
- For DBNL: 445.713 page views

In total, this amounts to 789.534 page views in 2 years, or an average of **33.000 requests per month.**

### Underlying data

The approach described above is also [explained on Dutch Wikipedia](https://nl.wikipedia.org/wiki/Wikipedia:GLAM/Koninklijke_Bibliotheek_en_Nationaal_Archief/Resultaten/KPIs/KPI9#Artikelen_sterk_gebaseerd_op_Delpher_en/of_DBNL). The underlying data is available here on Github:

- [List of Delpher aggregation articles](/KPI9/findExternalAndKBLinks/Delpher/Delpher_AggregationArticlesViews_05-02-2020.xlsx)
- [List of DBNL aggregation articles](/KPI9/findExternalAndKBLinks/DBNL/DBNL_AggregationArticlesViews_05-02-2020.xlsx)
